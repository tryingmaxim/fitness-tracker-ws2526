<!-- Hamburger + Side-Navigation -->
<div class="nav-wrapper">
  <div class="nav-hover-area">
    <div class="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <nav class="side-nav">
    <p class="nav-title">Navigation</p>

    <!-- Status -->
    <div class="user-row" [class.online]="isLoggedIn" [class.offline]="!isLoggedIn">
      <span class="status-dot" aria-hidden="true"></span>
      <span *ngIf="isLoggedIn; else guest">
        Angemeldet als <strong>{{ displayName }}</strong>
      </span>
      <ng-template #guest> Nicht angemeldet </ng-template>
    </div>

    <div class="nav-section">
      <p class="nav-section-title">Allgemein</p>
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Home</a>
      <a routerLink="/about" routerLinkActive="active">Über uns</a>
    </div>

    <div class="nav-section">
      <p class="nav-section-title">Training</p>

      <!-- ✅ leiten automatisch auf public oder private -->
      <a [routerLink]="exercisesLink" routerLinkActive="active">Übungen</a>
      <a [routerLink]="plansLink" routerLinkActive="active">Trainingspläne</a>
      <a [routerLink]="sessionsLink" routerLinkActive="active">Sessions</a>

      <!-- Optionaler Hinweis: eingeloggt = private -->
      <p class="muted" *ngIf="isLoggedIn" style="margin: 6px 0 0; font-size: 0.82rem; opacity: 0.8;">
        Du siehst die private Verwaltung (angemeldet).
      </p>
    </div>

    <div class="nav-section">
      <p class="nav-section-title">Mein Bereich</p>

      <ng-container *ngIf="!isLoggedIn; else loggedInLinks">
        <a routerLink="/login" routerLinkActive="active">Anmelden</a>
        <a routerLink="/register" routerLinkActive="active">Registrieren</a>
      </ng-container>

      <ng-template #loggedInLinks>
        <a routerLink="/app/dashboard" routerLinkActive="active">
          Zum Dashboard
          <span class="mini-dot online" aria-hidden="true"></span>
        </a>
        <a routerLink="/app/training-progress" routerLinkActive="active">Fortschritt</a>
        <a routerLink="/app/profile" routerLinkActive="active">Profil</a>
      </ng-template>
    </div>

    <div class="nav-section">
      <p class="nav-section-title">Rechtliches</p>
      <a routerLink="/agb" routerLinkActive="active">AGB</a>
      <a routerLink="/impressum" routerLinkActive="active">Impressum</a>
    </div>
  </nav>
</div>

<!-- Slideshow -->
<div class="slideshow" aria-hidden="true">
  <ng-container *ngFor="let img of slides; let i = index">
    <img
      class="slide"
      [class.active]="i === current"
      [src]="img"
      alt=""
    />
  </ng-container>
  <div class="overlay"></div>
</div>

<!-- Theme Toggle -->
<button class="theme-toggle" (click)="toggleTheme()">
  <span *ngIf="isDarkMode">◑</span>
  <span *ngIf="!isDarkMode">◐</span>
</button>

<!-- Seiteninhalt -->
<div class="page-content">
  <router-outlet></router-outlet>
</div>
